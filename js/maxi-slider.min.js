console.log("MaxiSlider in da house!");class MaxiSlider{constructor(t){this._container=t,this._wrapper=this._container.querySelector(".maxi-slider-block__wrapper"),this._slides=Array.from(this._wrapper.getElementsByClassName("maxi-slide-block")).map(((t,i)=>new Slide(t,i))),this._arrowNext=this._container.querySelector(".maxi-slider-block__arrow--next"),this._arrowPrev=this._container.querySelector(".maxi-slider-block__arrow--prev"),this.currentSlide=0,this.initPosition,this.dragPosition,this.endPosition,this.onDragStart=this.dragStart.bind(this),this.onDragAction=this.dragAction.bind(this),this.onDragEnd=this.dragEnd.bind(this),this.init()}get currentSlide(){return this._currentSlide}set currentSlide(t){this._currentSlide=t}get activeSlidePosition(){return 0===this.currentSlide?0:this._slides.slice(0,this.currentSlide).map((t=>t.size.width))?.reduce(((t,i)=>t+i))||0}get wrapperTranslate(){return+this._wrapper.style.transform.replace("translateX(","").replace("-","").replace(")","").replace("px","")}set wrapperTranslate(t){this._wrapper.style.transform=`translateX(-${t}px)`}init(){this.wrapperTranslate="0px",this.navEvents(),this.wrapperEvents()}navEvents(){this._arrowNext.addEventListener("click",this.slideNext.bind(this)),this._arrowPrev.addEventListener("click",this.slidePrev.bind(this))}wrapperEvents(){this._wrapper.addEventListener("mousedown",this.onDragStart),this._wrapper.addEventListener("touchstart",this.onDragStart),this._wrapper.addEventListener("touchmove",this.onDragAction),this._wrapper.addEventListener("touchend",this.onDragEnd)}dragStart(t){(t=t||window.event).preventDefault(),"touchstart"==t.type?this.initPosition=t.touches[0].clientX:(this.initPosition=t.clientX,document.addEventListener("mousemove",this.onDragAction),document.addEventListener("mouseup",this.onDragEnd)),this.dragPosition=this.initPosition}dragAction(t){let i;"touchmove"==(t=t||window.event).type?(i=this.dragPosition-t.touches[0].clientX,this.dragPosition=t.touches[0].clientX):(i=this.dragPosition-t.clientX,this.dragPosition=t.clientX),this.wrapperTranslate=this.wrapperTranslate+i}dragEnd(t){"touchend"==t.type?this.endPosition=this.dragPosition:this.endPosition=t.clientX,this.endPosition-this.initPosition<-100?this.slideNext():this.endPosition-this.initPosition>100?this.slidePrev():this.sliderAction(),document.removeEventListener("mousemove",this.onDragAction),document.removeEventListener("mouseup",this.onDragEnd)}slideNext(){this.currentSlide+1<this._slides.length&&(this.currentSlide=this.currentSlide+1,this.sliderAction())}slidePrev(){this.currentSlide-1>=0&&(this.currentSlide=this.currentSlide-1,this.sliderAction())}sliderAction(){this._slides.forEach((t=>t.isActive=this.currentSlide)),this.wrapperTranslate=this.activeSlidePosition}}class Slide{constructor(t,i){this._slide=t,this._id=i,this.isActive=0,this.size=this._slide.getBoundingClientRect()}get isActive(){return this._isActive}set isActive(t){this._isActive=this._id===t,this._slide.classList.toggle("slider-item--active",this._isActive)}get size(){return this._size}set size(t){this._size=t}}document.addEventListener("DOMContentLoaded",(()=>Array.from(document.getElementsByClassName("maxi-slider-block")).forEach((t=>new MaxiSlider(t)))),!1);
