/*===============================================
  ADVANCED NUMBER CONTROL COMPONENT
===============================================*/

.maxi-advanced-number-control {
	/*-------------------------------------------
  COMPONENT VARIABLES
-------------------------------------------*/

	/*-------------------------------------------
  SHARED COMPONENT PATTERNS
-------------------------------------------*/

	// Reset patterns for inputs and wrappers
	&__input-wrapper,
	&__value {
		border: none !important;
		outline: none !important;
		box-shadow: none !important;
		background: transparent !important;
	}

	// Focus state patterns
	&__input-wrapper:focus,
	&__input-wrapper:focus-within,
	&__value:focus,
	&__value:focus-visible,
	&__value:active {
		border: none !important;
		outline: none !important;
		box-shadow: none !important;
		background: transparent !important;
	}

	// Flexbox center alignment pattern
	&__input-wrapper,
	&__spinner-container,
	&__spinner-button {
		display: flex;
		align-items: center;
	}

	/*-------------------------------------------
  STYLE VARIANTS
-------------------------------------------*/

	&__second-style {
		.maxi-base-control__field {
			position: relative;
		}

		.maxi-base-control__label {
			border: none !important;
		}

		.maxi-select-control__input {
			border: none !important;
		}
	}

	/*-------------------------------------------
  CORE INPUT COMPONENTS
-------------------------------------------*/

	.maxi-base-control {
		margin-bottom: 0px;
	}

	&__input-wrapper {
		position: relative;
		display: inline-flex;
		flex: none;
		width: 65px !important;
	}

	&__value {
		// width: 100%;
		height: 36px;
		// flex: 1;
		/* Reduce inner spacing so digits sit closer to the spinner */
		padding: 0 5px 0 4px !important;
		// min-width: 60px;
		z-index: 0;

		// Hide browser spinner buttons
		&::-webkit-outer-spin-button,
		&::-webkit-inner-spin-button {
			-webkit-appearance: none;
			margin: 0;
		}

		&[type='number'] {
			-moz-appearance: textfield;
			appearance: textfield;
		}
	}

	/*-------------------------------------------
  CUSTOM SPINNER CONTROLS
-------------------------------------------*/

	&__spinner-container {
		position: absolute;
		right: 2px;
		top: 50%;
		transform: translateY(-48%);
		flex-direction: column;
		gap: -1px;
		z-index: 1;

		/* Single short divider on the LEFT (between input and spinner) */
		&::before {
			content: '';
			position: absolute;
			left: -3px;
			top: 50%;
			transform: translateY(-50%);
			width: 1px;
			height: 18px;
			background-color: var(--maxi-grey-light);
			pointer-events: none;
		}
	}

	&__spinner-button {
		width: 16px;
		height: 12px;
		border: none;
		background: transparent;
		cursor: pointer;
		padding: 0;
		color: var(--maxi-grey);
		justify-content: center;
		transition: all 200ms ease;
		border-radius: 2px;
		position: relative;

		// Interactive states
		&:focus-visible,
		&:hover {
			outline: none;
			border: none;
			background: var(--maxi-whisper-green);
		}

		&:hover {
			color: var(--maxi-primary-color);

			svg {
				color: var(--maxi-primary-color);
				border: none;
			}
		}

		&:active {
			transform: scale(0.95);
			border: none;
		}

		&:disabled {
			color: var(--maxi-grey);
			cursor: not-allowed;

			&:hover {
				background: transparent;
			}
		}

		svg {
			pointer-events: none;
			transition: inherit;
		}

		&--down {
			border-top: 1px solid var(--maxi-grey);
		}
	}

	/*-------------------------------------------
  KEYBOARD ACCESSIBILITY FOCUS STYLES
-------------------------------------------*/

	&__input-wrapper:focus-within {
		outline: 2px solid var(--maxi-primary-color);
		outline-offset: 2px;
	}

	&__value:focus-visible {
		outline: 2px solid var(--maxi-primary-color);
		outline-offset: 2px;
	}

	/*-------------------------------------------
  RANGE CONTROL INTEGRATION
-------------------------------------------*/

	.components-range-control {
		width: 100%;
		margin: 8px 0 0;

		&.maxi-advanced-number-control__range--small
			.components-simple-tooltip {
			transform: none;
		}

		&.maxi-advanced-number-control__range--big .components-simple-tooltip {
			transform: translateX(-90%);
		}
	}

	/*-------------------------------------------
  FIELD LAYOUT & SPACING
-------------------------------------------*/

	.maxi-base-control__label {
		flex: 2;
	}

	.maxi-base-control__field,
	.components-base-control__field {
		flex-wrap: wrap;

		.maxi-base-control__label,
		.components-base-control__label,
		.components-range-control {
			margin-left: 0px;
		}

		.components-range-control__root {
			margin-left: 7px !important;
		}
	}

	/*-------------------------------------------
  DIMENSIONS CONTROL INTEGRATION
-------------------------------------------*/

	.maxi-dimensions-control__units {
		.maxi-select-control__input {
			height: 36px !important;
			min-height: 36px !important;
			// Reduce inner right space and move chevron closer
			padding-right: 6px !important;
			background-position: right 4px top 50% !important;
		}
	}
}

/*******************************
	* RTL
	*******************************/
html[dir='rtl'] {
	.maxi-select-control__input {
		text-align: right;
	}
	.maxi-base-control__label {
		left: unset;
		right: 8px;
	}
}
.maxi-advanced-number-control__controls-group {
	border: 1px solid var(--maxi-grey-light);
	border-radius: 5px;
	display: flex;

	align-items: center;
}
