/**
 * Accordion Maxi Editor Styles
 * Optimized version with reusable mixins and consolidated selectors
 */

// ================================
// Variables and Mixins
// ================================

/**
 * Mixin for standard button styling used across accordion controls
 */
@mixin accordion-button-base {
	background: var(--maxi-white);
	border-radius: var(--maxi-radius-6px);
	padding: var(--maxi-space-6px) var(--maxi-space-12px);
	margin: var(--maxi-reset-margin);
	height: var(--maxi-control-height-32px);
	box-shadow: var(--maxi-reset-box-shadow);
	color: var(--maxi-grey-dark);
	transition: all var(--maxi-transition-200ms) ease;
	text-align: var(--maxi-text-align-center);
	justify-content: var(--maxi-layout-center);
	display: var(--maxi-display-flex);
	align-items: var(--maxi-layout-center);
	font-weight: var(--maxi-font-weight-medium);
}

/**
 * Mixin for button hover states
 */
@mixin accordion-button-hover {
	background: var(--maxi-pastel-green);
	color: var(--maxi-black);
}

/**
 * Mixin for button active/selected states
 */
@mixin accordion-button-active {
	background: var(--maxi-whisper-green);
	color: var(--maxi-grey-dark);
	font-weight: var(--maxi-font-weight-bold);
}

/**
 * Mixin for tab control negative margins (full-width styling)
 */
@mixin tab-full-width-margins {
	.maxi-tabs-control__button:first-child {
		margin-left: calc(-1 * var(--maxi-space-8px)) !important;
	}
	.maxi-tabs-control__button:last-child {
		margin-right: calc(-1 * var(--maxi-space-8px)) !important;
	}
}

// ================================
// Control Status Classes
// ================================

/**
 * Status active states for various control types
 */
[class*='maxi-border-status-active'],
[class*='maxi-background-status-active'],
[class*='maxi-box-shadow-status-active'],
[class*='maxi-accordion-line-control__hover-toggle'],
[class*='maxi-accordion-line-control__active-toggle'],
[class*='maxi-accordion-title-control__hover-toggle'],
[class*='maxi-accordion-title-control__active-toggle'] {
	margin-top: var(--maxi-space-10px) !important;
	margin-bottom: var(--maxi-space-5px) !important;
}

// ================================
// Skin Control Styles
// ================================

.maxi-skin-control__reveal-action-tabs {
	.components-button {
		@include accordion-button-base;
		border: var(--maxi-reset-border-none);
		border-radius: var(--maxi-radius-10px);
		min-width: var(--maxi-control-width-70px);
		box-shadow: var(--maxi-box-shadow-0-0-0-1px-grey);

		&:first-child {
			margin-right: var(--maxi-space-8px);
		}
		&:last-child {
			margin-right: var(--maxi-space-2px) !important;
		}

		&:hover {
			background: var(--maxi-white);
			box-shadow: 0 0 0 1px var(--maxi-primary-color);
			color: var(--maxi-primary-color);
		}

		&:active,
		&[aria-pressed='true'] {
			background: var(--maxi-primary-color) !important;
			box-shadow: 0 0 0 1px var(--maxi-primary-color) !important;
			color: var(--maxi-white) !important;
		}
	}
}

// ================================
// Icon Control Styles
// ================================

.maxi-icon-control__position {
	margin-top: var(--maxi-space-6px) !important;

	.maxi-tabs-control__button {
		@include accordion-button-base;
		border: var(--maxi-border-1-5px) solid var(--maxi-grey-light);
		margin-right: var(--maxi-space-2px) !important;
		min-width: var(--maxi-control-width-64px);

		&:first-child {
			margin-left: var(--maxi-layout-zero) !important;
		}
		&:last-child {
			border: var(--maxi-border-1-5px) solid var(--maxi-grey-light);
		}

		&:hover {
			@include accordion-button-hover;
			box-shadow: none;
		}

		&:active,
		&--selected,
		&[aria-pressed='true'] {
			@include accordion-button-active;
			border: var(--maxi-border-1-5px) solid var(--maxi-grey-light) !important;
			box-shadow: var(--maxi-reset-box-shadow);
		}
	}
}

// ================================
// Tab Control Full-Width Styles
// ================================

.maxi-icon-styles-control .maxi-tabs-control__full-width,
.maxi-settingstab-control:has(.maxi-accordion-icon-control__color-section),
.maxi-icon-background-tabs {
	@include tab-full-width-margins;
}

// ================================
// Misc Control Styles
// ================================

.maxi-tab-content .maxi-default-styles-control {
	// margin-top: var(--maxi-space-10px) !important;
}

.typography-accordion-wrapper {
	padding: var(--maxi-reset-padding) !important;
}

// ================================
// Accordion-Specific Overrides
// ================================

/**
 * Override hook for Accordion Maxi only.
 * Adds zero padding to the inspector Accordion panels without
 * impacting other accordions elsewhere in the editor.
 */
.maxi-accordion-control.maxi-accordion-control--accordion-maxi {
	.maxi-accordion-control__item__panel:not(.maxi-accordion-control__item__panel--disable-padding) {
		padding: var(--maxi-reset-padding) !important;
	}
}

.maxi-accordion-title-control__state-tabs {
	@include tab-full-width-margins;

	> .maxi-tabs-control > .maxi-tabs-control__button:first-child {
		margin-left: calc(-1 * var(--maxi-space-8px));
	}
	> .maxi-tabs-control > .maxi-tabs-control__button:last-child {
		margin-right: calc(-1 * var(--maxi-space-8px));
	}

	.maxi-tabs-content {
		margin-left: calc(-1 * var(--maxi-space-1px));
	}
}
