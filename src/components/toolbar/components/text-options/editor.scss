// Main container for the toolbar popup
.toolbar-item__popover {
	// Container for font-related options
	.toolbar-item__popover__font-options {
		margin: -8px -8px 0; // Negative margin to extend content to edges

		// Wrapper for font controls
		&__wrap {
			display: flex; // Makes children align horizontally
			align-items: center; // Vertically centers items in container
			border-top: 1px solid var(--maxi-grey-light); // Adds separator line

			// Styles for base control elements
			.maxi-base-control {
				.components-range-control {
					display: none; // Hides range slider control
				}
			}

			// Default SVG icon styling
			svg {
				fill: none; // Makes SVG icons transparent by default
				&:hover {
					fill: none !important; // Maintains transparency on hover
				}
			}
		}

		// Styles for extra typography options (bold, italic, etc.) - matching sidebar style
		.toolbar-item__typography-control__extra-text-options {
			display: flex;
			align-items: center;
			gap: 5px;
			margin: 4px 0; // Adds 8px margin above and below this section

			// Toolbar formatting buttons should match sidebar style exactly
			.toolbar-item,
			.toolbar-item__popover__list-options__button {
				display: flex !important;
				align-items: center !important;
				justify-content: center !important;
				padding: 8px !important;
				min-width: 34px !important;
				max-width: 34px !important;
				height: 32px !important;
				border: 1px solid var(--maxi-grey-light) !important;
				border-radius: 4px !important;
				background: var(--maxi-white) !important;
				color: var(--maxi-black) !important;
				cursor: pointer !important;
				font-family: inherit !important;
				font-size: 16px !important;
				font-weight: normal !important;
				line-height: 1 !important;
				text-align: center !important;
				text-decoration: none !important;
				transition: all 0.2s ease !important;
				box-sizing: border-box !important;
				margin: 0 !important;

				// SVG icon styling
				svg {
					width: 16px;
					height: 16px;
					transition: all 0.2s ease;

					path {
						stroke: var(--maxi-black);
						fill: none;
						transition: all 0.2s ease;
					}
				}

				&:hover {
					border-color: var(--maxi-primary-color) !important;
					background: var(--maxi-light-blue) !important;

					svg path {
						stroke: var(--maxi-primary-color) !important;
					}
				}

				&[aria-pressed='true'] {
					background: var(--maxi-whisper-green) !important;
					color: var(--maxi-primary-color) !important;
					border-color: var(--maxi-primary-color) !important;

					svg path {
						stroke: var(--maxi-primary-color) !important;
					}
				}

				// Text-based button styling (matching sidebar exactly)
				.toolbar-item__text {
					font-family: inherit;
					font-size: 16px;
					font-weight: normal;
					line-height: 1;
					color: inherit;
					transition: all 0.2s ease;

					&--italic {
						font-style: italic;
					}

					&--underline {
						text-decoration: underline;
					}

					&--strikethrough {
						text-decoration: line-through;
					}

					&--capitalize {
						text-transform: capitalize;
					}

					&--uppercase {
						text-transform: uppercase;
					}

					&--lowercase {
						text-transform: lowercase;
					}
				}

				// Bold styling for bold button
				&.toolbar-item__bold .toolbar-item__text {
					font-weight: bold;
				}
			}
		}

		// Typography tabs section (alignment, font selection, etc.)
		.toolbar-item__typography-control__typography-tabs {
			// Tab control base styling
			.maxi-tabs-control {
				margin: 0;

				&__button {
					border-color: var(--maxi-grey-light);
					border-style: solid;
					border-width: 0 1px 0 0;

					&:first-child,
					&:last-child {
						border-radius: 0 !important;
					}
				}
			}

			& > .maxi-tabs-control {
				.maxi-tabs-control__button {
					height: 36px;
					justify-content: center;
					width: 45px;
					gap: 0;
				}
			}

			.maxi-alignment-control {
				.maxi-tabs-control {
					&__button {
						padding: 0;
						width: 36px;
						height: 36px;
						margin: 0;
						border: 1px solid var(--maxi-grey-light) !important;
						border-radius: 4px !important;
						background: var(--maxi-white) !important;
						transition: all 0.2s ease !important;

						svg {
							width: 14px;
							path {
								stroke: var(--maxi-black);
								transition: all 0.2s ease;
							}
						}

						&:hover {
							border-color: var(--maxi-primary-color) !important;
							background: var(--maxi-light-blue) !important;
							svg path {
								stroke: var(--maxi-primary-color) !important;
							}
						}

						&[aria-pressed='true'] {
							background: var(--maxi-whisper-green) !important;
							border-color: var(--maxi-primary-color) !important;
							svg path {
								stroke: var(--maxi-primary-color) !important;
							}
						}
					}
				}
			}

			.maxi-tabs-content:not(.maxi-tabs-content--disable-padding) {
				padding-left: 0 !important;
				padding-right: 0 !important;
			}

			.maxi-font-family-selector__control__control {
				// border-color: var(--maxi-grey-light);
				border-style: solid;
				border-width: 0 1px 0 0;
				height: 36px;
				min-height: 36px;
			}

			.maxi-font-family-selector__control__menu {
				margin: 0 !important;
				width: 200px;
			}
		}
	}

	&__advanced-button {
		position: absolute;
		top: -10px !important;
		right: -10px !important;
		left: auto !important;
		min-width: 22px !important;
		height: 22px;
		padding: 0 !important;
		background-color: var(--maxi-primary-color);
		border-radius: 50%;
		transform: translate(0, 0);

		&:hover {
			background-color: var(--maxi-secondary-color);
		}

		svg {
			width: 16px;
			fill: var(--maxi-white);
		}
	}

	&__font-options {
		min-width: 376px;

		&__font {
			display: flex;
			width: 100%;

			&__selector {
				flex-basis: 100%;
			}

			.maxi-font-family-selector {
				margin-bottom: 0;
				width: 115px;
				height: 38px;

				// Add specific SVG styling for font selector
				svg {
					fill: var(
						--maxi-black
					) !important; // Add fill for font selector icons

					&:hover {
						fill: var(
							--maxi-primary-color
						) !important; // Change fill color on hover
					}
				}

				&__button {
					color: var(--maxi-white);
					border-color: var(--maxi-grey);
				}
			}

			.components-maxi-control__reset-button {
				height: 36px;
				margin: 0;
				border: none;

				svg {
					width: 14px;
					height: 14px;
				}
			}
		}

		&__wrap {
			&_family {
				.maxi-base-control__field {
					margin-bottom: 0;

					.maxi-font-family-selector__control__control:hover {
						background-color: var(--maxi-white);
						cursor: pointer;
					}
				}
			}

			&_inputs {
				padding: 10px 10px 0;

				.maxi-advanced-number-control {
					margin-right: 8px;

					&:last-child {
						margin-right: 0;
					}

					input {
						width: 80px !important;
					}
				}

				.toolbar-item__text-size-icon {
					margin-bottom: 8px;
					margin-right: 3px;
				}
			}
		}

		.maxi-tabs-content {
			padding-top: 0 !important;
		}
	}
}

.maxi-toolbar__popover {
	.toolbar-item__typography-control {
		width: 40px !important;
		& > div {
			width: 100%;
			height: 100%;
		}
		.components-button {
			font-family: 'Inter', sans-serif !important;
			font-weight: 700;
		}
	}
}
.toolbar-item__bold:hover {
	stroke: currentColor !important;
	fill: none !important;

	path {
		fill: none !important;
	}
}

// List options styling
.toolbar-item__typography-control__list-options {
	display: flex;
	gap: 5px;
	margin: 4px 0;
	padding-left: 8px;
	border-left: 1px solid var(--maxi-grey-light);

	.toolbar-item__list-button {
		display: flex !important;
		align-items: center !important;
		justify-content: center !important;
		padding: 8px !important;
		min-width: 34px !important;
		max-width: 34px !important;
		height: 32px !important;
		border: 1px solid var(--maxi-grey-light) !important;
		border-radius: 4px !important;
		background: var(--maxi-white) !important;
		color: var(--maxi-black) !important;
		cursor: pointer !important;
		font-family: inherit !important;
		font-size: 16px !important;
		font-weight: normal !important;
		line-height: 1 !important;
		text-align: center !important;
		text-decoration: none !important;
		transition: all 0.2s ease !important;
		box-sizing: border-box !important;
		margin: 0 !important;

		svg {
			width: 16px;
			height: 16px;
			transition: all 0.2s ease;

			path {
				stroke: var(--maxi-black);
				fill: none;
				transition: all 0.2s ease;
			}
		}

		&:hover {
			border-color: var(--maxi-primary-color) !important;
			background: var(--maxi-light-blue) !important;

			svg path {
				stroke: var(--maxi-primary-color) !important;
			}
		}

		&[aria-pressed='true'] {
			background: var(--maxi-whisper-green) !important;
			border-color: var(--maxi-primary-color) !important;
			color: var(--maxi-primary-color) !important;

			svg path {
				stroke: var(--maxi-primary-color) !important;
			}
		}
	}
}
