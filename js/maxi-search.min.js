const onSearchEvent=e=>{const t=e.value;if(e.checkValidity()){const e=`${window.location.origin}/?s=${t}`;window.location.href=e}else e.setCustomValidity("Please fill in the search field."),e.reportValidity()},onRevealEvent=(e,t,n,o,c)=>{e.classList.contains("maxi-search-block__input--hidden")?t.innerHTML=o:t.innerHTML=n,e.classList.toggle("maxi-search-block__input--hidden"),c&&(t.classList.toggle("maxi-search-block__button__close-icon"),t.classList.toggle("maxi-search-block__button__default-icon"))},search=()=>{Object.entries(maxiSearch[0]).forEach((([e,{buttonIconContent:t,buttonCloseIconContent:n,buttonContent:o,buttonContentClose:c,buttonSkin:i,skin:a}])=>{const s=document.getElementById(e);if(!s)return;const l=s.querySelector(".maxi-search-block__button"),r=s.querySelector(".maxi-search-block__button__icon"),_=s.querySelector(".maxi-search-block__button__content"),d=s.querySelector(".maxi-search-block__input"),u="icon"===i,h=u?t:o,b=u?n:c,k=u?r:_;"icon-reveal"===a?l.addEventListener("click",(()=>onRevealEvent(d,k,h,b,u))):l.addEventListener("click",(()=>onSearchEvent(d))),d.addEventListener("keypress",(e=>{"Enter"===e.key&&onSearchEvent(d)}))}))};window.addEventListener("load",search);
