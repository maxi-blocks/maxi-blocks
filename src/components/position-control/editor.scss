@import '../focal-point-picker';

// Global overrides for FocalPointPicker in position control (beats CSS-in-JS)
body.maxi-blocks--active {
	.maxi-position-control__focal-picker {
		.components-focal-point-picker {
			background-color: var(--maxi-whisper-green) !important;
			border: 1px solid var(--maxi-grey) !important;
			border-radius: 4px !important;
			box-shadow: none !important;
			outline: none !important;
		}

		.components-focal-point-picker__media,
		.components-focal-point-picker__media--placeholder {
			background: var(--maxi-whisper-green) !important;
			box-shadow: none !important;
		}

		.components-focal-point-picker__grid > div {
			background-color: var(--maxi-primary-color) !important;
			opacity: 1 !important;
		}
	}
}

// Position Control Toggle Styles
.maxi-position-control {
	&__advanced-toggle {
		margin-top: 8px;
		margin-bottom: 8px;

		.components-button {
			display: flex !important;
			justify-content: space-between !important;
			align-items: center !important;
			width: 100% !important;
			padding: 8px 10px !important;
			font-size: 13px !important;
			color: var(--maxi-grey-dark) !important;
			background: var(--maxi-white) !important;
			border: 1px solid var(--maxi-grey-light) !important;
			border-radius: 4px !important;
			transition: all 0.3s ease;
			text-align: left !important;

			&:hover {
				border-color: var(--maxi-primary-color) !important;
				background: var(--maxi-whisper-green) !important;
			}
		}
	}

	&__toggle-arrow {
		display: inline-flex;
		margin-left: 8px;
		transition: transform 0.3s ease;

		svg {
			width: 12px;
			height: 12px;
			fill: currentColor;
		}

		&--expanded {
			transform: rotate(180deg);

			svg {
				width: 12px;
				height: 12px;
				fill: currentColor;
			}
		}
	}

	&__advanced-options {
		animation: maxi-position-slideDown 0.3s ease-out;
	}

	// FocalPointPicker styling for layer placement
	&__focal-picker {
		width: 100%;
		margin-bottom: 8px;
		display: flex;
		flex-direction: column;

		// Position-control-specific picker overrides
		.components-focal-point-picker {
			background-color: var(--maxi-whisper-green) !important;
			border: 1px solid var(--maxi-grey) !important;
			border-radius: 4px !important;
			box-shadow: none !important;

			.components-focal-point-picker__media,
			.components-focal-point-picker__media--placeholder {
				background: var(--maxi-whisper-green) !important;
				box-shadow: none !important;
			}

			.components-focal-point-picker__grid > div {
				background-color: var(--maxi-primary-color) !important;
				opacity: 1 !important;
			}
		}

		@include focal-point-picker-layout;
	}
}

@keyframes maxi-position-slideDown {
	from {
		opacity: 0;
		transform: translateY(-10px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}
