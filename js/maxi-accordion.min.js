class Accordion{openPanes=[];constructor(e){this.accordion=e,this.uniqueID=e.id,this.paneIcon=maxiAccordion[0][this.uniqueID].paneIcon,this.paneIconActive=maxiAccordion[0][this.uniqueID].paneIconActive,this.accordionLayout=maxiAccordion[0][this.uniqueID].accordionLayout,this.autoPaneClose=maxiAccordion[0][this.uniqueID].autoPaneClose,Array.from(e.querySelectorAll(".maxi-pane-block__header")).forEach((e=>{e.addEventListener("click",this.paneClick.bind(this)),e.querySelector(".maxi-pane-block__icon").innerHTML=this.paneIcon}))}paneClick(e){const n=Array.prototype.indexOf.call(this.accordion.children,e.currentTarget.parentNode),o=this.accordion.children[n];if(this.openPanes.includes(n)){o.querySelector(".maxi-pane-block__content").style.display="none",o.querySelector(".maxi-pane-block__icon").innerHTML=this.paneIcon;for(var c=0;c<this.openPanes.length;c++)this.openPanes[c]===n&&delete this.openPanes[c];"boxed"===this.accordionLayout?o.removeChild(o.querySelector("hr")):o.removeChild(o.querySelectorAll("hr")[1])}else o.querySelector(".maxi-pane-block__content").style.display="block",o.querySelector(".maxi-pane-block__icon").innerHTML=this.paneIconActive,"boxed"===this.accordionLayout?o.insertBefore(document.createElement("hr"),o.querySelector(".maxi-pane-block__content")):o.insertBefore(document.createElement("hr"),o.querySelector(".maxi-pane-block__content").nextSibling),this.openPanes.length>0&&this.autoPaneClose&&(this.accordion.children[n].querySelector(".maxi-pane-block__content").style.display="none",this.accordion.children[n].querySelector(".maxi-pane-block__icon").innerHTML=this.paneIcon,"boxed"===this.accordionLayout?this.accordion.children[n].removeChild(this.accordion.children[n].querySelector("hr")):this.accordion.children[n].removeChild(this.accordion.children[n].querySelectorAll("hr")[1])),this.openPanes.push(n)}}document.addEventListener("DOMContentLoaded",(()=>Array.from(document.getElementsByClassName("maxi-accordion-block")).forEach((e=>new Accordion(e)))));
