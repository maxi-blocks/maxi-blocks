class Accordion{constructor(e){this.openPanes=[],this.accordion=e,this.uniqueID=e.id,({paneIcon:this.paneIcon,paneIconActive:this.paneIconActive,accordionLayout:this.accordionLayout,autoPaneClose:this.autoPaneClose,isCollapsible:this.isCollapsible}=maxiAccordion[0][this.uniqueID]),this.panes=Array.from(e.querySelectorAll(":scope > .maxi-pane-block")),this.init()}init(){this.panes.forEach((e=>{const n=e.querySelector(":scope > .maxi-pane-block__header"),i=e.querySelector(":scope > .maxi-pane-block__content");n.addEventListener("click",this.paneClick.bind(this)),n.querySelector(".maxi-pane-block__icon").innerHTML=this.paneIcon,i.addEventListener("transitionend",(()=>{i.style.overflow=null}))}))}closePane(e){e.querySelector(".maxi-pane-block__content").style.maxHeight=0,e.setAttribute("aria-expanded",!1),e.querySelector(".maxi-pane-block__icon").innerHTML=this.paneIcon,this.openPanes.splice(this.openPanes.indexOf(e.id),1)}openPane(e){const n=e.querySelector(".maxi-pane-block__content");n.style.overflow="hidden",n.style.maxHeight=n.scrollHeight+"px",e.setAttribute("aria-expanded",!0),e.querySelector(".maxi-pane-block__icon").innerHTML=this.paneIconActive,this.autoPaneClose&&this.openPanes.forEach((e=>{const n=this.accordion.querySelector(`#${e}`);this.closePane.call(this,n)})),this.openPanes.push(e.id)}paneClick(e){const n=e.currentTarget.parentNode;if(this.openPanes.includes(n.id)){if(!this.isCollapsible&&this.openPanes.length<=1)return;this.closePane.call(this,n)}else this.openPane.call(this,n)}}document.addEventListener("DOMContentLoaded",(()=>Array.from(document.querySelectorAll(".maxi-accordion-block")).forEach((e=>new Accordion(e)))));
