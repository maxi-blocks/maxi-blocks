class Accordion{openPanes=[];constructor(e){this.accordion=e,this.uniqueID=e.id,this.paneIcon=maxiAccordion[0][this.uniqueID].paneIcon,this.paneIconActive=maxiAccordion[0][this.uniqueID].paneIconActive,this.accordionLayout=maxiAccordion[0][this.uniqueID].accordionLayout,this.autoPaneClose=maxiAccordion[0][this.uniqueID].autoPaneClose,Array.from(e.querySelectorAll(".maxi-pane-block__header")).forEach((e=>{e.addEventListener("click",this.paneClick.bind(this)),e.querySelector(".maxi-pane-block__icon").innerHTML=this.paneIcon}))}paneClick(e){const n=Array.prototype.indexOf.call(this.accordion.children[0].children,e.currentTarget.parentNode),i=this.accordion.children[0].children[n];if(this.openPanes.includes(n)){i.setAttribute("aria-expanded",!1),i.querySelector(".maxi-pane-block__icon").innerHTML=this.paneIcon;for(var o=0;o<this.openPanes.length;o++)this.openPanes[o]===n&&this.openPanes.splice(o,1)}else{if(i.setAttribute("aria-expanded",!0),i.querySelector(".maxi-pane-block__icon").innerHTML=this.paneIconActive,this.openPanes.length>0&&this.autoPaneClose){let e=this.openPanes[0];this.openPanes=[],this.accordion.children[e].setAttribute("aria-expanded",!1),this.accordion.children[e].querySelector(".maxi-pane-block__icon").innerHTML=this.paneIcon}this.openPanes.push(n)}}}document.addEventListener("DOMContentLoaded",(()=>Array.from(document.querySelectorAll(".maxi-accordion-block")).forEach((e=>new Accordion(e)))));
