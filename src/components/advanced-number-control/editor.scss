/*===============================================
   ADVANCED NUMBER CONTROL COMPONENT
===============================================*/

.maxi-advanced-number-control {
	/*--- Shared Resets & Utils ---*/
	&__input-wrapper,
	&__value {
		// Base and all interaction states
		&,
		&:focus,
		&:focus-within,
		&:focus-visible,
		&:active {
			border: none !important;
			outline: none !important;
			box-shadow: none !important;
			background: transparent !important;
		}
	}

	&__input-wrapper,
	&__spinner-container,
	&__spinner-button {
		display: flex;
		align-items: center;
	}

	/*--- Core Layout Components ---*/
	.maxi-base-control {
		margin-bottom: 0;
	}

	&__input-wrapper {
		position: relative;
		flex: none;
		width: 55px !important;

		// Focus state (Keyboard Accessibility)
		&:focus-within {
			outline: 2px solid var(--maxi-primary-color);
			outline-offset: 2px;
		}
	}

	&__value {
		height: 36px;
		padding: 0 5px 0 4px !important;
		z-index: 0;

		// Browser Spinner Hides
		&::-webkit-outer-spin-button,
		&::-webkit-inner-spin-button {
			-webkit-appearance: none;
			margin: 0;
		}

		&[type='number'] {
			-moz-appearance: textfield;
			appearance: textfield;
		}

		// Focus state (Keyboard Accessibility)
		&:focus-visible {
			outline: 2px solid var(--maxi-primary-color);
			outline-offset: 2px;
		}
	}

	/*--- Spinner Controls ---*/
	&__spinner-container {
		position: absolute;
		right: 2px;
		top: 50%;
		transform: translateY(-48%);
		flex-direction: column;
		z-index: 1;

		// Divider line
		&::before {
			content: '';
			position: absolute;
			left: -3px;
			top: 50%;
			transform: translateY(-50%);
			width: 1px;
			height: 18px;
			background-color: var(--maxi-grey-light);
			pointer-events: none;
		}
	}

	&__spinner-button {
		width: 16px;
		height: 12px;
		padding: 0;
		justify-content: center;
		position: relative;

		background: transparent;
		border: none;
		border-radius: 2px;

		color: var(--maxi-grey);
		cursor: pointer;
		transition: all 200ms ease;

		svg {
			pointer-events: none;
			transition: inherit;
		}

		&--down {
			border-top: 1px solid var(--maxi-grey);
		}

		// Interactive States
		&:focus-visible,
		&:hover {
			outline: none;
			background: var(--maxi-whisper-green);
		}

		&:hover {
			color: var(--maxi-primary-color);
			svg {
				color: var(--maxi-primary-color);
				border: none;
			}
		}

		&:active {
			transform: scale(0.95);
		}

		&:disabled {
			color: var(--maxi-grey);
			cursor: not-allowed;
			&:hover {
				background: transparent;
			}
		}
	}

	/*--- Variants ---*/
	&__second-style {
		.maxi-base-control__field {
			position: relative;
		}
		.maxi-base-control__label,
		.maxi-select-control__input {
			border: none !important;
		}
	}

	/*--- Integrations & Overrides ---*/

	// Field Layout
	.maxi-base-control__label {
		flex: 2;
	}

	.maxi-base-control__field,
	.components-base-control__field {
		flex-wrap: wrap;

		.maxi-base-control__label,
		.components-base-control__label,
		.components-range-control {
			margin-left: 0;
		}

		.components-range-control__root {
			margin: 0 7px -8px !important;
		}
	}

	// Range Control
	.components-range-control {
		width: 100%;
		margin: 8px 0 0;

		&.maxi-advanced-number-control__range--small {
			.components-simple-tooltip {
				transform: none;
			}
		}
		&.maxi-advanced-number-control__range--big .components-simple-tooltip {
			transform: translateX(-90%);
		}
	}

	// Dimensions Control Units
	.maxi-dimensions-control__units .maxi-select-control__input {
		height: 36px !important;
		min-height: 36px !important;
		padding-right: 6px !important;
	}
}

/*===============================================
   GLOBAL & RTL SUPPORT
===============================================*/

.maxi-advanced-number-control__controls-group {
	display: flex;
	align-items: center;
	border: 1px solid var(--maxi-grey-light);
	border-radius: 5px;
}

html[dir='rtl'] {
	.maxi-select-control__input {
		text-align: right;
	}
	.maxi-base-control__label {
		left: unset;
		right: 8px;
	}
}
