const onSearchEvent=e=>{const t=e.value;if(e.checkValidity()){const e=`${window.location.origin}/?s=${t}`;window.location.href=e}else e.setCustomValidity("Please fill in the search field."),e.reportValidity()},toggleClasses=(e,t,n)=>{e.classList.toggle("maxi-search-block__input--hidden"),n&&(t.classList.toggle("maxi-search-block__button__close-icon"),t.classList.toggle("maxi-search-block__button__default-icon"))},onRevealEvent=(e,t,{wrapper:n,content:o,contentClose:c,isIcon:s},i)=>{const{target:a,type:l}=e,r="mouseover"!==l&&"mouseleave"!==l,u=i.contains(a),_=i.querySelector(".maxi-search-block__button").contains(a),d=t.classList.contains("maxi-search-block__input--hidden"),h=t===document.activeElement;(r||!r&&"mouseover"===l)&&d&&_?(n.innerHTML=c,toggleClasses(t,n,s)):d||(!r||!_&&u)&&(r||"mouseleave"!==l||h)||(n.innerHTML=o,toggleClasses(t,n,s))},search=()=>{Object.entries(maxiSearch[0]).forEach((([e,{buttonIconContent:t,buttonCloseIconContent:n,buttonContent:o,buttonContentClose:c,buttonSkin:s,iconRevealAction:i,skin:a}])=>{const l=document.getElementById(e);if(!l)return;const r=l.querySelector(".maxi-search-block__button"),u=l.querySelector(".maxi-search-block__button__icon"),_=l.querySelector(".maxi-search-block__button__content"),d=l.querySelector(".maxi-search-block__input"),h="icon"===s,m=h?t:o,v=h?n:c,b=h?u:_;if("icon-reveal"===a){["click",..."hover"===i?["mouseover","mouseleave"]:[]].forEach((e=>{("click"===e?document:l).addEventListener(e,(e=>onRevealEvent(e,d,{wrapper:b,content:m,contentClose:v,isIcon:h},l)))}))}else r.addEventListener("click",(()=>onSearchEvent(d)));d.addEventListener("keypress",(e=>{"Enter"===e.key&&onSearchEvent(d)}))}))};window.addEventListener("load",search);
