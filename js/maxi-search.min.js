const onSearchEvent=e=>{const t=e.value;if(e.checkValidity()){const e=`${window.location.origin}/?s=${t}`;window.location.href=e}else e.setCustomValidity("Please fill in the search field."),e.reportValidity()},toggleClasses=(e,t,o)=>{e.classList.toggle("maxi-search-block__input--hidden"),o&&(t.classList.toggle("maxi-search-block__button__close-icon"),t.classList.toggle("maxi-search-block__button__default-icon"))},onRevealEvent=(e,t,{wrapper:o,content:n,contentClose:c,isIcon:s},i)=>{const{target:a,type:l}=e,r="mouseover"!==l&&"mouseout"!==l,u=i.contains(a),_=i.querySelector(".maxi-search-block__button").contains(a),d=t.classList.contains("maxi-search-block__input--hidden"),h=t===document.activeElement;(r||!r&&"mouseover"===l)&&d&&_?(o.innerHTML=c,toggleClasses(t,o,s)):d||(!r||!_&&u)&&(r||"mouseout"!==l||h||u)||(o.innerHTML=n,toggleClasses(t,o,s))},search=()=>{Object.entries(maxiSearch[0]).forEach((([e,{buttonIconContent:t,buttonCloseIconContent:o,buttonContent:n,buttonContentClose:c,buttonSkin:s,iconRevealAction:i,skin:a}])=>{const l=document.getElementById(e);if(!l)return;const r=l.querySelector(".maxi-search-block__button"),u=l.querySelector(".maxi-search-block__button__icon"),_=l.querySelector(".maxi-search-block__button__content"),d=l.querySelector(".maxi-search-block__input"),h="icon"===s,m=h?t:n,b=h?o:c,v=h?u:_;if("icon-reveal"===a){["click",..."hover"===i?["mouseover","mouseout"]:[]].forEach((e=>{("click"===e?document:l).addEventListener(e,(e=>onRevealEvent(e,d,{wrapper:v,content:m,contentClose:b,isIcon:h},l)))}))}else r.addEventListener("click",(()=>onSearchEvent(d)));d.addEventListener("keypress",(e=>{"Enter"===e.key&&onSearchEvent(d)}))}))};window.addEventListener("load",search);
