const videoEvents=()=>{document.querySelectorAll(".maxi-video-block").forEach((e=>{const o=e.id,i=void 0!==maxiVideo[0][o]?maxiVideo[0][o]:null,t=e.querySelector(".maxi-video-block__video-player");if(i.isLightbox){const o=e.querySelector(".maxi-video-block__popup-wrapper"),d=e.querySelector(".maxi-video-block__close-button"),n=e.querySelector(".maxi-video-block__play-button"),c=e=>{o.style.display="flex",t.src=i.embedUrl},r=e=>{e.target!==e.currentTarget&&e.currentTarget===o||(o.style.display="none",t.src="")};e.querySelector(".maxi-video-block__overlay").addEventListener("click",c),n.addEventListener("click",c),d.addEventListener("click",r),o.addEventListener("click",r)}const d=i.videoType,n=i.endTime;if("vimeo"===d&&n){if(-1===Array.from(window.document.scripts).findIndex((e=>"maxi-vimeo-sdk"===e.getAttribute("id")))){const e=document.createElement("script");e.src="https://player.vimeo.com/api/player.js",e.id="maxi-vimeo-sdk",e.async=!0,e.onload=()=>{e.onload=null;const o=new Vimeo.Player(t);o.on("timeupdate",(function(e){e.seconds>n&&o.pause()}))},document.body.appendChild(e)}}}))};window.addEventListener("load",videoEvents);
