/* ========================================
   MAXI AXIS CONTROL COMPONENT STYLES
   ======================================== */

.maxi-axis-control {
	display: grid;
	grid-gap: var(--axis-control-gap-default);

	/* ========================================
	   CSS CUSTOM PROPERTIES / VARIABLES
	   ======================================== */

	// Label styling variables
	--axis-control-label-size: 10px;
	--axis-control-label-padding: 0 6px;
	--axis-control-label-z-index: 10;

	// Layout spacing variables

	// Gap spacing variables
	--axis-control-gap-default: 0 8px;
	--axis-control-gap-margin: 8px;

	/* ========================================
	   HEADER SECTION
	   ======================================== */

	&__header {
		margin-bottom: 10px;
		display: grid;
		grid-template-columns: 1fr;
		grid-gap: var(--axis-control-gap-default);

		.maxi-base-control__field {
			display: grid;
			grid-template-columns: 1fr auto;
			align-items: center;
			margin-bottom: 0;
		}

		.maxi-tabs-control {
			display: grid;
			grid-template-columns: repeat(3, 1fr);
			margin-left: 0;
			margin-right: 0;
		}
	}

	/* ========================================
	   TAB CONTROL BUTTONS
	   ======================================== */

	.maxi-tabs-control__button {
		display: flex;
		flex: 1;
		align-items: center;
		justify-content: center;
		min-width: 32px;
		height: 32px;
		padding: 0;
		border: 1px solid var(--maxi-grey-light);
		border-radius: 0;
		margin-bottom: 0;
		opacity: 1;
		transition: all 0.5s;
		cursor: pointer;

		&.maxi-tabs-control__button--sync-axis {
			padding: 6px 0;
		}

		// SVG icon styling
		svg:not(.maxi-tabs-control__notification) path {
			fill: transparent;
			stroke: var(--maxi-grey-dark);
			transition: stroke 0.3s ease;
		}

		// Selected state

		&--selected {
			svg:not(.maxi-tabs-control__notification) path {
				fill: transparent;
				stroke: var(--maxi-secondary-color);
			}
		}

		// Hover state
		&:hover svg:not(.maxi-tabs-control__notification) path {
			stroke: var(--maxi-secondary-color);
		}
	}

	/* ========================================
	   CONTENT ITEM STYLING
	   ======================================== */

	.maxi-axis-control__content__item {
		position: relative;
		box-sizing: border-box;

		// Make the inner control take full height
		&.maxi-advanced-number-control {
			display: flex;
			flex-direction: column;
			width: 100%;

			/* Base control field styling handled by base component */
		}

		// Floating labels with increased specificity
		&.maxi-advanced-number-control .maxi-base-control__label {
			position: absolute;
			top: -8px;
			left: -4px;
			font-size: var(--axis-control-label-size);
			color: var(--maxi-grey-dark);
			font-style: normal;
			background: var(--maxi-white);
			padding: var(--axis-control-label-padding);
			pointer-events: none;
			z-index: var(--axis-control-label-z-index);
			box-sizing: border-box;
		}
	}

	/* Reset buttons - positioning handled globally by reset-control component */

	/* ========================================
	   ALL MODE LAYOUT
	   ======================================== */

	.maxi-axis-control__all-mode {
		display: grid;
		grid-template-columns: 1fr;

		.maxi-axis-control__content__item {
			width: 100%;
			margin-bottom: 0;
		}
	}

	/* ========================================
	   AXIS MODE LAYOUT
	   ======================================== */

	.maxi-axis-control__axis-mode {
		display: grid;
		grid-template-columns: 1fr;
		grid-gap: var(--axis-control-item-gap);

		.maxi-axis-control__row-1,
		.maxi-axis-control__row-2 {
			display: flex; // or grid with 1 column
			gap: var(--mx-gap, 8px);

			.maxi-axis-control__item-auto,
			.maxi-axis-control__content__item {
				width: 100%;
			}

			.maxi-advanced-number-control {
				display: grid;
				grid-template-columns: 1fr;
				gap: 8px;
			}
		}
	}

	/* ========================================
	   SEPARATE GRID LAYOUT - 2Ã—2 Grid
	   ======================================== */

	.maxi-axis-control__content__separate-grid {
		display: grid;
		grid-template-columns: repeat(2, minmax(0, 1fr)); // 2 equal columns
		grid-auto-rows: auto;
		gap: var(--mx-gap, 4px); // reuse spacing token

		/* Let the inner row wrappers disappear so their children
		   participate directly in the parent grid */
		.maxi-axis-control__row-1,
		.maxi-axis-control__row-2 {
			display: contents; // safe in evergreen browsers
		}
		.maxi-axis-control.maxi-axis-control__margin[data-sync='none'] {
			--axis-control-gap-margin: 4px; /* was 8px */
			gap: var(--axis-control-gap-margin); /* grid gap */
		}

		/* If the extra space comes from margins on the inner items
	 (older codebases sometimes do that), clear them too.     */
		.maxi-axis-control.maxi-axis-control__margin[data-sync='none']
			.maxi-axis-control__content__item {
			margin-bottom: 0;
		}

		/* ========================================
		   ADVANCED NUMBER CONTROL OVERRIDES
		   ======================================== */

		// Flattened selectors to avoid impossible self-nesting
		.maxi-advanced-number-control
			.maxi-base-control__field.maxi-axis-control__margin,
		.maxi-advanced-number-control
			.maxi-base-control__field.maxi-axis-control__padding {
			gap: var(--axis-control-gap-default);
		}

		.maxi-advanced-number-control
			.maxi-base-control__field.maxi-axis-control__margin {
			gap: var(--axis-control-gap-margin);
		}
	}

	/* ========================================
	 PADDING-SPECIFIC STYLING
	 ======================================== */

	/* ========================================
	   RESPONSIVE SIZE BUTTONS GRID
	   ======================================== */
	.maxi-axis-control__axis-mode {
		/* parent becomes the grid */
		display: grid;
		grid-template-columns: repeat(2, minmax(0, 1fr));
		grid-auto-rows: auto;
		gap: var(--mx-gap, 8px); /* re-uses your spacing token */
	}

	/* flatten the two row wrappers so their children
		 participate directly in the parent grid */
	.maxi-axis-control__axis-mode > .maxi-axis-control__row-1,
	.maxi-axis-control__axis-mode > .maxi-axis-control__row-2 {
		display: contents; /* modern browsers */
	}

	/* ---------- OPTIONAL SAFARI <14 FALLBACK ---------- */
	@supports not (display: contents) {
		.maxi-axis-control__axis-mode > .maxi-axis-control__row-1,
		.maxi-axis-control__axis-mode > .maxi-axis-control__row-2 {
			display: grid;
			grid-template-columns: repeat(2, 1fr);
			gap: var(--mx-gap, 8px);
		}
	}

	/* ========================================
	   AUTO CONTROL GRID LAYOUT
	   ======================================== */
	.maxi-advanced-number-control__input-wrapper {
		display: grid;
		grid-template-columns: 1fr auto;
		align-items: center;
	}

	/* ========================================
	   FIX FOR BOTTOM ROW ALIGNMENT
	   ======================================== */

	/* Bottom row alignment is handled through grid layout */

	/* Make all toggle switches aligned */
	.maxi-toggle-switch {
		display: flex;
		align-items: center;
		justify-content: space-between;

		label {
			font-size: 12px;
			font-weight: 400;
		}
	}

	/* ========================================
	   DATA-SYNC ATTRIBUTE STYLING HOOKS
	   ======================================== */

	/* Use [data-sync="axis"], [data-sync="none"], or [data-sync="all"] selectors
	   to target specific sync modes when needed */

	/* ========================================
	   SYNC BUTTON STATE MODIFIERS
	   ======================================== */

	/* Use .maxi-axis-control__sync--axis, .maxi-axis-control__sync--none,
	   or .maxi-axis-control__sync--all to style active sync buttons */
}

html .maxi-axis-control__content__item .maxi-reset-button--typography {
	position: absolute !important;
	top: -8px !important;
	right: -5px !important;
	z-index: 1000 !important;
}
