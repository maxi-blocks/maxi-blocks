body .maxi-background-control {
	padding-top: var(--maxi-space-8px);
	.maxi-tabs-control__full-width {
		column-gap: var(--maxi-space-5px);
		.maxi-tabs-control__button {
			&-none,
			&-color,
			&-gradient {
				padding: var(--maxi-space-10px);
				border: var(--maxi-border-1px) solid var(--maxi-grey-light);
				border-radius: var(--maxi-radius-4px);
				&.maxi-tabs-control__button--selected {
					background-color: var(--maxi-pastel-green);
					border: var(--maxi-border-1px) solid
						var(--maxi-primary-color);
				}
			}
			&-none,
			&-color {
				&.maxi-tabs-control__button--selected {
					svg {
						path,
						circle {
							fill: var(--maxi-secondary-color);
						}
					}
				}
			}
			&-gradient {
				&.maxi-tabs-control__button--selected {
					svg {
						path,
						circle {
							stroke: var(--maxi-secondary-color);
						}
					}
				}
			}
		}
	}

	&__image-layer .maxi-toggle-switch {
		padding-top: var(--maxi-space-10px);
		margin-bottom: var(--maxi-space-3px) !important;
	}
	.parallax-direction {
		.maxi-tabs-control__button {
			border: var(--maxi-border-1px) solid var(--maxi-grey-light);
			border-radius: var(--maxi-radius-2px);
			color: var(--maxi-grey-dark);
			background-color: var(--maxi-white);
			width: var(--maxi-element-size-48px);
			transition: all var(--maxi-transition-400ms) ease !important;

			&[aria-pressed='true'],
			&:active,
			&:hover {
				background-color: var(--maxi-whisper-green);
				color: var(--maxi-secondary-color);
				border: var(--maxi-border-1px) solid var(--maxi-primary-color);
			}
		}
	}
	.maxi-mediauploader-control {
		&__image {
			.maxi-mediauploader-control__remove {
				margin-right: 0;
			}
		}
	}
	.maxi-background-control__add-layer {
		margin-top: 0 !important;
		.maxi-base-control__field {
			margin-bottom: var(--maxi-space-3px) !important;
		}
	}
	.maxi-background-layer {
		&__preview {
			display: var(--maxi-display-block);
			width: var(--maxi-space-20px);
			height: var(--maxi-space-20px);
			margin: var(--maxi-space-3px) var(--maxi-space-5px) 0 0 !important;
			border: var(--maxi-border-1px) solid var(--maxi-black);
			opacity: var(--maxi-opacity-visible);
			float: var(--maxi-float-left);
			border-radius: 0;
			margin-right: var(--maxi-space-3px);
			background-size: cover !important;

			svg {
				display: var(--maxi-display-block);
				max-width: var(--maxi-space-21px);
				max-height: var(--maxi-space-21px);
				margin: var(--maxi-layout-auto);
			}
		}
		&__row {
			margin: 0 0 var(--maxi-space-8px);
			display: var(--maxi-display-flex);
			align-items: var(--maxi-layout-center);
			border: var(--maxi-border-1px) solid var(--maxi-secondary-color);
			z-index: 0;

			.maxi-background-layer__title__text {
				display: var(--maxi-display-flex);
				align-items: var(--maxi-layout-center);
				min-height: var(--maxi-space-25px);
				/* Keep the title on one line and gracefully truncate when space is tight */
				white-space: var(--maxi-white-space-nowrap);
				overflow: var(--maxi-overflow-hidden);
				text-overflow: var(--maxi-text-overflow-ellipsis);
				/* Allow flexbox to shrink this item */
				min-width: var(--maxi-layout-0);
			}
		}

		&__content {
			border: var(--maxi-border-1px) solid var(--maxi-secondary-color);
			border-radius: var(--maxi-radius-0);
			padding: var(--maxi-space-22px) var(--maxi-space-8px) 0;
			margin: calc(-1 * var(--maxi-space-23px))
				calc(-1 * var(--maxi-space-8px)) var(--maxi-space-8px);

			.chrome-picker {
				width: var(--maxi-layout-full-width) !important;
			}

			.maxi-library-modal__action-section {
				margin-bottom: var(--maxi-space-8px);
			}

			.components-custom-gradient-picker__gradient-bar {
				margin-top: var(--maxi-space-0);
				margin-bottom: var(--maxi-space-8px);
			}

			.components-custom-gradient-picker__ui-line {
				margin-bottom: var(--maxi-space-0);

				.components-input-control__container:hover {
					border-color: var(--maxi-primary-color) !important;
				}
			}
		}

		&__title {
			&__text {
				line-height: var(--maxi-space-25px);
			}
			&__mover {
				display: var(--maxi-display-block);
				width: var(--maxi-space-17px);
				height: var(--maxi-space-17px);
				/* Slightly reduce right spacing to free room for the title */
				margin: auto var(--maxi-space-2px) auto auto;
				cursor: var(--maxi-cursor-move);

				svg {
					width: var(--maxi-space-15px);
					height: var(--maxi-space-15px);
					path {
						fill: var(--maxi-black);
					}
				}
			}
			&__display {
				display: var(--maxi-display-block);
				width: var(--maxi-space-22px);
				height: var(--maxi-space-22px);
				/* Reduce horizontal margins to gain extra width for the text */
				margin: auto var(--maxi-space-3px) auto var(--maxi-space-3px);
				cursor: var(--maxi-cursor-pointer);
				position: var(--maxi-layout-relative);
				transition: all var(--maxi-transition-400ms) ease;

				&:hover {
					transform: var(--maxi-transform-scale-1-1);
					opacity: var(--maxi-opacity-medium);
				}
				svg {
					width: var(--maxi-space-22px);
					height: var(--maxi-space-22px);
				}

				&--block {
					path {
						stroke: var(--maxi-black);
					}
				}
				&:after {
					content: '';
					display: var(--maxi-display-block);
					background-color: var(--maxi-grey-dark);
					width: var(--maxi-layout-zero);
					height: var(--maxi-space-1px);
					position: var(--maxi-layout-absolute);
					top: var(--maxi-space-50);
					left: var(--maxi-space-50);
					transform: var(--maxi-transform-translate-50-50)
						var(--maxi-transform-rotate-45deg);
					transition: var(--maxi-transition-300ms);
				}
				&--none {
					opacity: var(--maxi-opacity-semi);
					&:after {
						width: var(--maxi-space-23px);
					}
					path {
						stroke: var(--maxi-grey-dark);
					}
				}
			}
		}
	}

	.maxi-list-item-control__arrow {
		width: var(--maxi-space-25px);
		transition: var(--maxi-transition-300ms) ease all;
		cursor: var(--maxi-cursor-pointer);
		transform-origin: var(--maxi-layout-center);
		padding: var(--maxi-space-6px) var(--maxi-space-0);
		border-right: var(--maxi-border-1px) solid var(--maxi-secondary-color);
		background-color: var(--maxi-white);
		text-align: var(--maxi-text-align-center) !important;
		border-radius: var(--maxi-radius-5px) var(--maxi-space-0)
			var(--maxi-space-0) var(--maxi-radius-5px) !important;

		svg {
			width: var(--maxi-space-8px);
			height: var(--maxi-space-16px);
			transform: rotate(-90deg);
			path {
				fill: var(--maxi-black);
			}
		}
	}

	.maxi-list-item-control__title__id:before {
		content: counter(list-items-counter);
		background: var(--maxi-whisper-green);
		display: var(--maxi-display-block);
		/* Tighter padding to allow the title to fit on one line */
		padding: var(--maxi-space-6px) var(--maxi-space-5px)
			var(--maxi-space-6px) var(--maxi-space-5px) !important;
		border-right: var(--maxi-border-1px) solid var(--maxi-secondary-color);
		margin-right: var(--maxi-space-3px) !important;
		counter-increment: list-items-counter 1;
		font-size: var(--maxi-font-size-14px);
		font-weight: var(--maxi-font-weight-bold);
		min-width: var(--maxi-space-22px);
	}
}
.maxi-background-control__image-layer .maxi-toggle-switch {
	padding-top: var(--maxi-space-10px);
	margin-bottom: var(--maxi-space-10px) !important;
}
.parallax-direction .maxi-tabs-control__button {
	position: var(--maxi-layout-relative);
	display: var(--maxi-display-flex);
	flex-direction: var(--maxi-layout-flex-column);
	width: var(--maxi-layout-full-width);
	height: var(--maxi-layout-auto);
	padding: var(--maxi-space-8px) var(--maxi-space-30px) !important;
	border-bottom: var(--maxi-border-1px) solid var(--maxi-grey-light);
	border-top: var(--maxi-border-1px) solid var(--maxi-grey-light);
	border-right: var(--maxi-border-1px) solid var(--maxi-grey-light);
	border-radius: 0;
	color: var(--maxi-grey-dark);
	background-color: var(--maxi-white);
	text-align: var(--maxi-text-align-center);
}

.parallax-direction .maxi-tabs-control__button last-child {
	border-right: var(--maxi-reset-border-none);
	margin-left: var(--maxi-space-8px) !important;
}
.parallax-direction .maxi-tabs-control__button:first-child {
	margin-right: var(--maxi-space-4px) !important;
}
.parallax-direction .maxi-tabs-control__button hover {
	background-color: var(--maxi-grey-light);
	cursor: var(--maxi-cursor-pointer);
}
.parallax-direction .maxi-tabs-control__button focus:not(:disabled) {
	box-shadow: var(--maxi-reset-box-shadow);
	outline: var(--maxi-reset-outline);
}
.parallax-direction .maxi-tabs-control__button active {
	background-color: var(--maxi-grey-light);
}

body.maxi-blocks--active .components-popover__fallback-container {
	button.components-button.is-link {
		height: var(--maxi-space-30px);
		border: var(--maxi-border-1-5px) solid var(--maxi-secondary-color);
		color: var(--maxi-secondary-color) !important;
		background: var(--maxi-whisper-green);
		border-radius: var(--maxi-space-30px);
		text-decoration: none;
		padding: 0 var(--maxi-space-10px);
		transition: all var(--maxi-transition-500ms) ease-in-out;

		&:hover {
			border-color: var(--maxi-primary-color) !important;
			background: var(--maxi-mid-green);
		}
	}
}
