const onSearchEvent=e=>{const t=e.value;if(e.checkValidity()){const e=`${window.location.origin}/?s=${t}`;window.location.href=e}else e.setCustomValidity("Please fill in the search field."),e.reportValidity()},toggleClasses=(e,t,n)=>{e.classList.toggle("maxi-search-block__input--hidden"),n&&(t.classList.toggle("maxi-search-block__button__close-icon"),t.classList.toggle("maxi-search-block__button__default-icon"))},onRevealEvent=(e,t,{wrapper:n,content:o,contentClose:c,isIcon:s},i)=>{const a=i.contains(e),l=i.querySelector(".maxi-search-block__button").contains(e),r=t.classList.contains("maxi-search-block__input--hidden");r&&l?(n.innerHTML=c,toggleClasses(t,n,s)):r||!l&&a||(n.innerHTML=o,toggleClasses(t,n,s))},search=()=>{Object.entries(maxiSearch[0]).forEach((([e,{buttonIconContent:t,buttonCloseIconContent:n,buttonContent:o,buttonContentClose:c,buttonSkin:s,skin:i}])=>{const a=document.getElementById(e);if(!a)return;const l=a.querySelector(".maxi-search-block__button"),r=a.querySelector(".maxi-search-block__button__icon"),_=a.querySelector(".maxi-search-block__button__content"),u=a.querySelector(".maxi-search-block__input"),d="icon"===s,h=d?t:o,b=d?n:c,k=d?r:_;"icon-reveal"===i?document.addEventListener("click",(e=>onRevealEvent(e.target,u,{wrapper:k,content:h,contentClose:b,isIcon:d},a))):l.addEventListener("click",(()=>onSearchEvent(u))),u.addEventListener("keypress",(e=>{"Enter"===e.key&&onSearchEvent(u)}))}))};window.addEventListener("load",search);
