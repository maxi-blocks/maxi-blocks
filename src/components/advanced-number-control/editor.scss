/*===============================================
  ADVANCED NUMBER CONTROL COMPONENT
===============================================*/

.maxi-advanced-number-control {
	/*-------------------------------------------
	  COMPONENT VARIABLES
	-------------------------------------------*/
	--spinner-gap: calc(-1 * var(--maxi-space-1px));
	--spinner-transform-offset: -48%;
	--floating-label-top: calc(-1 * var(--maxi-space-8px));

	/*-------------------------------------------
	  SHARED COMPONENT PATTERNS
	-------------------------------------------*/
	
	// Reset patterns for inputs and wrappers
	&__input-wrapper,
	&__value {
		border: var(--maxi-reset-border-none) !important;
		outline: var(--maxi-reset-outline) !important;
		box-shadow: var(--maxi-reset-box-shadow) !important;
		background: var(--maxi-reset-background) !important;
	}

	// Focus state patterns
	&__input-wrapper:focus,
	&__input-wrapper:focus-within,
	&__value:focus,
	&__value:focus-visible,
	&__value:active {
		border: var(--maxi-reset-border-none) !important;
		outline: var(--maxi-reset-outline) !important;
		box-shadow: var(--maxi-reset-box-shadow) !important;
		background: var(--maxi-reset-background) !important;
	}

	// Flexbox center alignment pattern
	&__input-wrapper,
	&__spinner-container,
	&__spinner-button {
		display: var(--maxi-display-flex);
		align-items: var(--maxi-layout-center);
	}

	/*-------------------------------------------
	  STYLE VARIANTS
	-------------------------------------------*/
	
	&__second-style {
		.maxi-base-control__field {
			position: var(--maxi-layout-relative);
		}
		
		.maxi-base-control__label {
			position: var(--maxi-layout-absolute);
			top: var(--floating-label-top);
			left: var(--maxi-space-8px);
			font-size: var(--maxi-font-size-10px) !important;
			color: var(--maxi-black) !important;
			font-style: italic;
			padding: var(--maxi-space-0px) var(--maxi-space-5px);
			pointer-events: none;
			box-sizing: border-box;
		}
		
		.maxi-select-control__input {
			padding: var(--maxi-space-9px) var(--maxi-space-8px);
		}
	}

	/*-------------------------------------------
	  CORE INPUT COMPONENTS
	-------------------------------------------*/
	
	.maxi-base-control {
		margin-bottom: var(--maxi-space-0px);
	}

	&__input-wrapper {
		position: var(--maxi-layout-relative);
		display: var(--maxi-display-inline-flex);
		flex: none;
		width: var(--maxi-control-width-72px);
	}

	&__value {
		width: var(--maxi-layout-full-width);
		height: var(--maxi-control-height-36px);
		flex: var(--maxi-layout-full-width);
		padding-right: var(--maxi-space-24px);
		min-width: var(--maxi-control-width-60px);
		z-index: 0;

		// Hide browser spinner buttons
		&::-webkit-outer-spin-button,
		&::-webkit-inner-spin-button {
			-webkit-appearance: none;
			margin: 0;
		}

		&[type='number'] {
			-moz-appearance: textfield;
			appearance: textfield;
		}
	}

	/*-------------------------------------------
	  CUSTOM SPINNER CONTROLS
	-------------------------------------------*/
	
	&__spinner-container {
		position: var(--maxi-layout-absolute);
		right: var(--maxi-space-4px);
		top: var(--maxi-layout-half);
		transform: translateY(var(--spinner-transform-offset));
		flex-direction: var(--maxi-layout-flex-column);
		gap: var(--spinner-gap);
		z-index: 1;
	}

	&__spinner-button {
		width: var(--maxi-space-16px);
		height: var(--maxi-space-12px);
		border: var(--maxi-reset-border-none);
		background: var(--maxi-reset-background);
		cursor: var(--maxi-cursor-pointer);
		padding: var(--maxi-reset-padding);
		color: var(--maxi-grey);
		justify-content: var(--maxi-layout-center);
		transition: all var(--maxi-transition-200ms) ease;
		border-radius: var(--maxi-radius-2px);
		position: var(--maxi-layout-relative);

		// Interactive states
		&:focus-visible,
		&:hover {
			outline: var(--maxi-reset-outline);
			border: var(--maxi-reset-border-none);
			background: var(--maxi-whisper-green);
		}

		&:hover {
			color: var(--maxi-primary-color);

			svg {
				color: var(--maxi-primary-color);
				border: var(--maxi-reset-border-none);
			}
		}

		&:active {
			transform: scale(0.95);
			border: var(--maxi-reset-border-none);
		}

		&:disabled {
			color: var(--maxi-grey);
			cursor: not-allowed;

			&:hover {
				background: var(--maxi-reset-background);
			}
		}

		svg {
			pointer-events: var(--maxi-pointer-events-none);
			transition: inherit;
		}

		&--down {
			border-top: var(--maxi-border-1px) solid var(--maxi-grey);
		}
	}

	/*-------------------------------------------
	  KEYBOARD ACCESSIBILITY FOCUS STYLES
	-------------------------------------------*/
	
	&__input-wrapper:focus-within {
		outline: var(--maxi-outline-focus);
		outline-offset: var(--maxi-space-2px);
	}

	&__value:focus-visible {
		outline: var(--maxi-outline-focus);
		outline-offset: var(--maxi-space-2px);
	}

	/*-------------------------------------------
	  RANGE CONTROL INTEGRATION
	-------------------------------------------*/
	
	.components-range-control {
		width: var(--maxi-layout-full-width);
		flex: var(--maxi-layout-full-width);
		margin: var(--maxi-space-8px) 0 0;

		&.maxi-advanced-number-control__range--small .components-simple-tooltip {
			transform: none;
		}
		
		&.maxi-advanced-number-control__range--big .components-simple-tooltip {
			transform: translateX(-90%);
		}
	}

	/*-------------------------------------------
	  FIELD LAYOUT & SPACING
	-------------------------------------------*/
	
	.maxi-base-control__label {
		flex: 2;
	}

	.maxi-base-control__field,
	.components-base-control__field {
		flex-wrap: wrap;

		& > * {
			margin-left: var(--maxi-space-5px);
		}

		.maxi-base-control__label,
		.components-base-control__label,
		.components-range-control {
			margin-left: var(--maxi-space-0px);
		}

		.components-range-control__root {
			margin-left: var(--maxi-space-7px) !important;
			width: calc(var(--maxi-layout-full-width) - var(--maxi-space-16px));
		}
	}

	/*-------------------------------------------
	  DIMENSIONS CONTROL INTEGRATION
	-------------------------------------------*/
	
	.maxi-dimensions-control__units {
		.maxi-select-control__input {
			height: var(--maxi-control-height-36px) !important;
			min-height: var(--maxi-control-height-36px) !important;
		}
	}
}

/*******************************
* RTL
*******************************/
html[dir='rtl'] {
	.maxi-select-control__input {
		text-align: right;
	}
	.maxi-base-control__label {
		left: unset;
		right: var(--maxi-space-8px);
	}
}
